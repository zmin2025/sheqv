import{o as e,c as t,a as s,b as i,w as a,F as o,r as n,d as l,v as r,I as c,i as m,e as d,n as u,t as h}from"./index-6bfb636a.js";const C=((e,t)=>{const s=e.__vccOpts||e;for(const[i,a]of t)s[i]=a;return s})({name:"CommunityDiscovery",data:()=>({communities:[],filteredCommunities:[],loading:!0,searchQuery:"",selectedCategory:null,sortBy:"members",categories:[{id:"all",name:"全部"},{id:"tech",name:"科技"},{id:"game",name:"游戏"},{id:"art",name:"艺术"},{id:"sports",name:"体育"}]}),async created(){await this.fetchCommunities(),this.filteredCommunities=[...this.communities],this.loading=!1},methods:{async fetchCommunities(){this.communities=[{id:1,name:"Vue.js爱好者",description:"讨论Vue.js及相关技术",avatar:"https://via.placeholder.com/80",memberCount:1250,postCount:320,category:"tech",joined:!1,createdAt:"2023-01-15",lastActive:"2023-06-10"},{id:2,name:"游戏开发交流",description:"游戏开发技术分享与讨论",avatar:"https://via.placeholder.com/80",memberCount:890,postCount:210,category:"game",joined:!0,createdAt:"2023-03-22",lastActive:"2023-06-12"}]},filterCommunities(){let e=[...this.communities];if(this.searchQuery){const t=this.searchQuery.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)))}this.selectedCategory&&"all"!==this.selectedCategory&&(e=e.filter((e=>e.category===this.selectedCategory))),this.filteredCommunities=e,this.sortCommunities()},sortCommunities(){"members"===this.sortBy?this.filteredCommunities.sort(((e,t)=>t.memberCount-e.memberCount)):"recent"===this.sortBy?this.filteredCommunities.sort(((e,t)=>new Date(t.lastActive)-new Date(e.lastActive))):"newest"===this.sortBy&&this.filteredCommunities.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt)))},selectCategory(e){this.selectedCategory=e,this.filterCommunities()},toggleJoin(e){e.joined=!e.joined}}},[["render",function(C,y,v,g,p,f){const w=c,b=m;return e(),t("div",{class:"community-discovery"},[s("div",{class:"header"},[s("h1",null,"发现社区"),s("div",{class:"search-box"},[i(w,{modelValue:p.searchQuery,"onUpdate:modelValue":y[0]||(y[0]=e=>p.searchQuery=e),placeholder:"搜索社区...",onInput:f.filterCommunities},null,8,["modelValue","onInput"]),i(b,{onClick:f.filterCommunities},{default:a((()=>[d("搜索")])),_:1},8,["onClick"])])]),s("div",{class:"two-column-layout"},[s("div",{class:"left-column"},[s("div",{class:"filter-section"},[s("h3",null,"分类"),s("ul",{class:"category-list"},[(e(!0),t(o,null,n(p.categories,(s=>(e(),t("li",{key:s.id,class:u({active:p.selectedCategory===s.id}),onClick:e=>f.selectCategory(s.id)},h(s.name),11,["onClick"])))),128))])]),s("div",{class:"filter-section"},[s("h3",null,"排序方式"),l(s("select",{"onUpdate:modelValue":y[1]||(y[1]=e=>p.sortBy=e),onChange:y[2]||(y[2]=(...e)=>f.sortCommunities&&f.sortCommunities(...e))},[s("option",{value:"members"},"成员数量"),s("option",{value:"recent"},"最近活跃"),s("option",{value:"newest"},"最新创建")],544),[[r,p.sortBy]])])]),s("div",{class:"right-column"},[p.loading?(e(),t("div",{key:0,class:"loading"},"加载中...")):(e(),t("div",{key:1,class:"community-grid"},[(e(!0),t(o,null,n(p.filteredCommunities,(o=>(e(),t("div",{key:o.id,class:"community-card"},[s("div",{class:"card-header"},[s("img",{src:o.avatar,alt:o.name,class:"avatar"},null,8,["src","alt"]),s("h3",null,h(o.name),1)]),s("p",{class:"description"},h(o.description),1),s("div",{class:"stats"},[s("span",null,"👥 "+h(o.memberCount)+" 成员",1),s("span",null,"💬 "+h(o.postCount)+" 讨论",1)]),i(b,{class:u(["join-btn",{joined:o.joined}]),onClick:e=>f.toggleJoin(o)},{default:a((()=>[d(h(o.joined?"已加入":"加入社区"),1)])),_:2},1032,["class","onClick"])])))),128))]))])])])}],["__scopeId","data-v-e1d7546d"]]);export{C as default};
